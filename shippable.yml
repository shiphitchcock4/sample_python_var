language: python

python:
  - 3.4

env:
  global:
    - secure: IZD9gIwmeXEqkWehAFTGC4dH8G+JMJcwdS9OUpbmznKvVSWPgia8wNGs3k2DsRqm8eVZb7LW0CIIqqlAB0+WMfbzc0VZY+06a2F9kCiciLs0QnqOEK/gSA9DB29Z1VndSv7oy5lPKZMaHSAUK9v2M3sS2S6ZJE76sSk54MPqbPOXGQNpzPqpCsMtAnVgYnhv4aXk8XXTFKEh1TVAeM5/zijuQrsyAhPIBnE/cDW+OQWnI29H7+E3w3Qa+OEBoKsrJx4pPk9QsjMdNk4xBxTvfN/xyTr/vIxZAB4blKGoKoxOR3RIv3daGN93BtvYxoumkLZPx1nae44248OGktQBlw==
    - secure: 0IbdjC988h7/pzQvrn7G8Xj2MwzptHm1N0NiI++CtZ2sKckPiw1ldqgTUTxGSaCS+YxaKc8H85/KvEiqXN2iOBLDKiRI9zJDVkMlydR9duEO41Imc7Ra88X8W20U/7cogXuDlVdNf8usJ+Bz7RNSMXgH1U1b2oQmlrubVGHUP8yxjIQQ2XaoGDcGZusPaFDVaBSz79aVB9oqymjCsIRJmGQ6GeNAGJCRcaqch0QzOWT4xquzXQiyoc182qg/IsuofDT33F9A/Krah9CyX0gGdYVqW3VadO4QqA3XgcpF73G4zQwPldg+n0vjYo65CtiSc4HzPimug2HQaGZqaW37mw==
    - secure: LEnGpeR7d3T5/ylbtHgWB64Rbq/t6m0O/9PltrfyHKabWvgTRB/Ag9ky+asWqCzfSv9orcy6ZXVIc1wS/XW+mn+AdJOr02dBN5PX2zgIIF6ay2lxKL7j7ackwH4NdeVvDy9UhoxabDRfaUdDLSUGWCUmxlD8/mB/oZUHTn8DyMs/gYoZ4Y8pzAye4t77C8RFpqAxP75ffHNyVDuBsz5gBeD8DAYRT3oQfSy4g9eFPCh3an7Q+4fpaHg1phtLN4zzUuUiKHJH8lDUo9eRvjnwoNYHjEyzSe3BUOZloSnNVJKLdT8JsziYxTL2sVVkFrLoFQTsXBnlD1HqJQ5SIeTyfg==
  matrix:
    - M1=ONE
    
build:
  pre_ci:
    - docker build -t=shippabledocker/sample_python .

  pre_ci_boot:
    image_name: shippabledocker/sample_python
    image_tag: latest
    pull: false
    options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'

  ci:
    - ps -eax
    - ls -al
    - echo "$foo"
    - echo "$BAR"
  post_ci:
    - docker push shippabledocker/sample_python


integrations:
  hub:
    - integrationName: ship-docker
      type: docker  
      

  matrix:
   - M1=ONE
   
build:
 # pre_ci:
  #  - docker build -t=shippabledocker/sample_python .

  pre_ci_boot:
    image_name: shippabledocker/sample_python
    image_tag: latest
    pull: true
    options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'

  ci:
    - ps -eax
    - ls -al
    - echo "$foo"
    - echo "$BAR"

  #post_ci:
   # - docker push shippabledocker/sample_python


integrations:
  hub:
    - integrationName: ship-docker
      type: docker  
      
